<!doctype html>
<html lang="en">
<script>
   $(window).load(function() { $("#spinner").fadeOut("slow"); })
</script>
<head>
    <!-- Meta Properties -->
    <meta charset="UTF-8">
    <title>El Koura 3andek</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <!-- CSS -->
    <link rel="stylesheet" href="./lib/sidr/dist/stylesheets/jquery.sidr.light.min.css">
    <link rel="stylesheet" href="./lib/jquery-modal/jquery.modal.min.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="./css/main.css" />
</head>
<!-- Audio -->
<audio id="split_cell" src="audio/split.mp3"></audio>
<audio id="spawn_cell" src="audio/spawn.mp3"></audio>
</head>
<div class="loader" id="spinner"></div>
<body>
    <div id="gameAreaWrapper">
        <div id="status"><span class="title">Leaderboard</span></div>
        <div class="agarscore" id="agarscore">
            <div id="agarnumber">Score:0</div>
        </div>
        <div id="mobile">
            <input type="image" id="split" class="split" src="./img/split.png" alt="splitBtn">
            <input type="image" id="feed" class="feed" src="./img/feed.png" alt="feedBtn">
        </div>
        <canvas tabindex="1" id="cvs"></canvas>
    </div>
    <div id="logo_delice" style="position:fixed;left:40vw;display:none;"><img src="./img/logo_delice.png" /></div>
    <div id="startMenuWrapper">
        <div id="startMenu">
            <!-- <p>Open Agar
            </p>
            <p id="username"></p> -->
            <a onclick="document.getElementById('spawn_cell').play();"><button id="startButton" value="Play"><img src="https://cdn0.iconfinder.com/data/icons/social-flat-rounded-rects/512/facebook-256.png" width=32 height=32/ style="position:relative;bottom:10px;"> <b class="buttonText">Commencer</b></button></a>
            <!-- <button id="spectateButton">Spectate</button> -->
            <!-- <button id="settingsButton">Settings</button> -->
            <!-- <button id="logoutButton">Logout</button> -->
            <!-- <br />
            <div id="settings">
                <h3>Settings</h3>
                <ul>
                    <label><input id="visBord" type="checkbox">Show border</label>
                    <label><input id="showMass" type="checkbox">Show mass</label>
                    <br />
                    <label><input id="continuity" type="checkbox">Continue moving when mouse is off-screen</label>
                    <br />
                    <label><input id="roundFood" type="checkbox" checked>Rounded food</label>
                </ul>
            </div> -->
        </div>
    </div>


    <form hidden id="howto" class="modal:open" style="max-width: 800px;">
        <img src="./img/Instruction.png">
    </form>
    <form hidden id="classement" class="modal:open" style="max-width: 800px;">
        <img src="./img/general.png">
        <div style="position:absolute;top:150px;left:150px;">
            <div id="g1"></div>
            <div id="g2"></div>
            <div id="g3"></div>
            <div id="g4"></div>
            <div id="g5"></div>
        </div>
        <div style="position:absolute;top:150px;left:400px;">
            <div id="g6"></div>
            <div id="g7"></div>
            <div id="g8"></div>
            <div id="g9"></div>
            <div id="g10"></div>
        </div>
    </form>
    <form hidden id="semaine" class="modal:open" style="max-width: 800px;">
        <img src="./img/semaine.png">
        <div style="position:absolute;top:150px;left:150px;">
            <div id="s1"></div>
            <div id="s2"></div>
            <div id="s3"></div>
            <div id="s4"></div>
            <div id="s5"></div>
            <div id="s6"></div>
            <div id="s7"></div>
            <div id="s8"></div>
            <div id="s9"></div>
            <div id="s10"></div>
        </div>
    </form>
    <form hidden id="cadeaux" class="modal:open" style="max-width: 1000px;">
        <img src="./img/Cadeau.png">
    </form>
    <!-- JS -->
    <!-- SIDR Menu -->
    <a id="simple-menu" href="#sidr" style="position:fixed;z-index:9999;top:24px;left:24px;"><img src="./img/menu.png" /></a>

    <div id="sidr">
        <div class="menuTitle"><img src="./img/menu/closeMenu.png">Menu</div>
        <ul class="sidrMenu">
            <li><a href="#howto" rel="modal:open" class="menuButton redButton"><span class="textAdjust">Comment jouer ?</span></a></li>
            <li><a href="#classement" rel="modal:open" class="menuButton yellowButton" onclick="getScore()"><span class="textAdjust">General</span></a></li>
            <li><a href="#semaine" rel="modal:open" class="menuButton greenButton" onclick="getSemaine()"><span class="textAdjust">Semaine</span></a></li>
            <li><a href="#cadeaux" rel="modal:open" class="menuButton roseButton"><span class="textAdjust">Cadeaux</span></a></li>
        </ul>
    </div>
    <script src="./lib/jquery/dist/jquery.min.js"></script>
    <script src="./lib/sidr/dist/jquery.sidr.min.js"></script>
    <script src="./lib/jquery-modal/jquery.modal.min.js" type="text/javascript" charset="utf-8"></script>
    <script>
        $(document).ready(function() {
            $('#simple-menu').sidr();
        });
        $(document).on("click", function() {
            $.sidr('close', 'sidr');
        });


        function getScore() {
            $.ajax({
                type: "GET",
                url: "/getScore",
                success: function(response) {
                    var users = response;
                    for (var i = 0; i < 9; i++) {
                        document.getElementById("g" + (i + 1)).innerHTML = "<div class='scorediv'><img src=\"" + users[i].picture + "\" width=\"23\" height=\"23\"/> " +
                            users[i].firstName + " " + users[i].lastName + " : " + users[i].score " </div>";
                    }
                }
            });
        }

        function getSemaine() {
            $.ajax({
                type: "GET",
                url: "/getScore",
                success: function(response) {
                    var users = response;
                    for (var i = 0; i < 9; i++) {
                        document.getElementById("s" + (i + 1)).innerHTML = "<div class='scorediv'><img src=\"" + users[i].picture + "\" width=\"23\" height=\"23\"/> " +
                            users[i].firstName + " " + users[i].lastName + " : " + users[i].score " </div>";
                    }
                }
            });
        }
    </script>
    <!-- MODAL-->


    <script src="./js/bundle.min.js"></script>
</body>

</html>
